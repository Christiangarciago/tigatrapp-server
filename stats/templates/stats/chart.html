{% load staticfiles %}
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<title>Tigatrapp Stats</title>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://code.highcharts.com/highcharts.js"></script>


  </head>
  <body>

  <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>

  <script>

    var days = new Array();
    var users = new Array();
    var site_reports = new Array();
    var adult_reports = new Array();

    {% for day in days %}

        days[days.length] = "{{ day }}";

    {% endfor %}

    {% for user in users %}

        users[users.length] = {{ user }};

    {% endfor %}

    {% for site_report in site_reports %}

        site_reports[site_reports.length] = {{ site_report }};

    {% endfor %}

    {% for adult_report in adult_reports %}

        adult_reports[adult_reports.length] = {{ adult_report }};

    {% endfor %}


      $(function () {
        $('#container').highcharts({
            title: {
                text: 'Tigatrapp Participation',
                x: -20 //center
            },
            subtitle: {
                text: 'Real-time data from the Tigatrapp server',
                x: -20
            },
            xAxis: {
                categories: days
            },
            yAxis: {
                title: {
                    text: 'Cumulative Total'
                },
                plotLines: [{
                    value: 0,
                    width: 1,
                    color: '#808080'
                }]
            },
            tooltip: {
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{
                name: 'Citizen scientists',
                data: users,
                color: '#2ca25f'},
                {name: 'Breeding site reports',
                 data: site_reports,
                 color: '#126FC6'},
                {name: 'Tiger mosquito reports',
                 data: adult_reports,
                 color: '#F6D10A'
            }]
        });
    });



  </script>


  </body>
</html>